{"ast":null,"code":"import { __extends, __rest, __read, __assign } from 'tslib';\nimport * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport mergeRefs from 'react-merge-refs';\nimport useMeasure from 'react-use-measure';\nimport { render, events, unmountComponentAtNode } from '@react-three/fiber';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\n\nfunction Block(_a) {\n  var set = _a.set;\n  useIsomorphicLayoutEffect(function () {\n    set(new Promise(function () {\n      return null;\n    }));\n    return function () {\n      return set(false);\n    };\n  }, []);\n  return null;\n}\n\nvar ErrorBoundary =\n/** @class */\nfunction (_super) {\n  __extends(ErrorBoundary, _super);\n\n  function ErrorBoundary() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      error: false\n    };\n    return _this;\n  }\n\n  ErrorBoundary.prototype.componentDidCatch = function (error) {\n    this.props.set(error);\n  };\n\n  ErrorBoundary.prototype.render = function () {\n    return this.state.error ? null : this.props.children;\n  };\n\n  ErrorBoundary.getDerivedStateFromError = function () {\n    return {\n      error: true\n    };\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n/**\n * A synchronously rendering version of R3F's Canvas component. We call render\n * within the render function itself to ensure lifecycle events are called before\n * parent reconcilers. This can be replaced with a simple MotionContext provider\n * when R3F moves to the same model.\n */\n\n\nfunction SyncCanvasComponent(_a, forwardedRef) {\n  var children = _a.children,\n      fallback = _a.fallback,\n      tabIndex = _a.tabIndex,\n      resize = _a.resize,\n      id = _a.id,\n      style = _a.style,\n      className = _a.className,\n      events$1 = _a.events,\n      props = __rest(_a, [\"children\", \"fallback\", \"tabIndex\", \"resize\", \"id\", \"style\", \"className\", \"events\"]);\n\n  var motionContext = useContext(MotionContext);\n\n  var _b = __read(useMeasure(__assign({\n    scroll: true,\n    debounce: {\n      scroll: 50,\n      resize: 0\n    }\n  }, resize)), 2),\n      containerRef = _b[0],\n      _c = _b[1],\n      width = _c.width,\n      height = _c.height;\n\n  var canvasRef = React.useRef(null);\n\n  var _d = __read(React.useState(false), 2),\n      block = _d[0],\n      setBlock = _d[1];\n\n  var _e = __read(React.useState(false), 2),\n      error = _e[0],\n      setError = _e[1]; // Suspend this component if block is a promise (2nd run)\n\n\n  if (block) throw block; // Throw exception outwards if anything within canvas throws\n\n  if (error) throw error; // Execute JSX in the reconciler as a layout-effect\n\n  if (width > 0 && height > 0) {\n    render(React.createElement(ErrorBoundary, {\n      set: setError\n    }, React.createElement(React.Suspense, {\n      fallback: React.createElement(Block, {\n        set: setBlock\n      })\n    }, React.createElement(MotionContext.Provider, {\n      value: motionContext\n    }, children))), canvasRef.current, __assign(__assign({}, props), {\n      size: {\n        width: width,\n        height: height\n      },\n      events: events$1 || events\n    }));\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    var container = canvasRef.current;\n    return function () {\n      return unmountComponentAtNode(container);\n    };\n  }, []);\n  return React.createElement(\"div\", {\n    ref: containerRef,\n    id: id,\n    className: className,\n    tabIndex: tabIndex,\n    style: __assign({\n      position: \"relative\",\n      width: \"100%\",\n      height: \"100%\",\n      overflow: \"hidden\"\n    }, style)\n  }, React.createElement(\"canvas\", {\n    ref: mergeRefs([canvasRef, forwardedRef]),\n    style: {\n      display: \"block\"\n    }\n  }, fallback));\n}\n\nvar MotionCanvas = forwardRef(SyncCanvasComponent);\nexport { MotionCanvas };","map":{"version":3,"names":["__extends","__rest","__read","__assign","React","forwardRef","useContext","MotionContext","mergeRefs","useMeasure","render","events","unmountComponentAtNode","useIsomorphicLayoutEffect","Block","_a","set","Promise","ErrorBoundary","_super","_this","apply","arguments","state","error","prototype","componentDidCatch","props","children","getDerivedStateFromError","Component","SyncCanvasComponent","forwardedRef","fallback","tabIndex","resize","id","style","className","events$1","motionContext","_b","scroll","debounce","containerRef","_c","width","height","canvasRef","useRef","_d","useState","block","setBlock","_e","setError","createElement","Suspense","Provider","value","current","size","container","ref","position","overflow","display","MotionCanvas"],"sources":["/Users/Juan/Documents/coding/framer-3d-button/node_modules/framer-motion/dist/es/components/MotionCanvas/index.mjs"],"sourcesContent":["import { __extends, __rest, __read, __assign } from 'tslib';\nimport * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport mergeRefs from 'react-merge-refs';\nimport useMeasure from 'react-use-measure';\nimport { render, events, unmountComponentAtNode } from '@react-three/fiber';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\n\nfunction Block(_a) {\n    var set = _a.set;\n    useIsomorphicLayoutEffect(function () {\n        set(new Promise(function () { return null; }));\n        return function () { return set(false); };\n    }, []);\n    return null;\n}\nvar ErrorBoundary = /** @class */ (function (_super) {\n    __extends(ErrorBoundary, _super);\n    function ErrorBoundary() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { error: false };\n        return _this;\n    }\n    ErrorBoundary.prototype.componentDidCatch = function (error) {\n        this.props.set(error);\n    };\n    ErrorBoundary.prototype.render = function () {\n        return this.state.error ? null : this.props.children;\n    };\n    ErrorBoundary.getDerivedStateFromError = function () { return ({ error: true }); };\n    return ErrorBoundary;\n}(React.Component));\n/**\n * A synchronously rendering version of R3F's Canvas component. We call render\n * within the render function itself to ensure lifecycle events are called before\n * parent reconcilers. This can be replaced with a simple MotionContext provider\n * when R3F moves to the same model.\n */\nfunction SyncCanvasComponent(_a, forwardedRef) {\n    var children = _a.children, fallback = _a.fallback, tabIndex = _a.tabIndex, resize = _a.resize, id = _a.id, style = _a.style, className = _a.className, events$1 = _a.events, props = __rest(_a, [\"children\", \"fallback\", \"tabIndex\", \"resize\", \"id\", \"style\", \"className\", \"events\"]);\n    var motionContext = useContext(MotionContext);\n    var _b = __read(useMeasure(__assign({ scroll: true, debounce: { scroll: 50, resize: 0 } }, resize)), 2), containerRef = _b[0], _c = _b[1], width = _c.width, height = _c.height;\n    var canvasRef = React.useRef(null);\n    var _d = __read(React.useState(false), 2), block = _d[0], setBlock = _d[1];\n    var _e = __read(React.useState(false), 2), error = _e[0], setError = _e[1];\n    // Suspend this component if block is a promise (2nd run)\n    if (block)\n        throw block;\n    // Throw exception outwards if anything within canvas throws\n    if (error)\n        throw error;\n    // Execute JSX in the reconciler as a layout-effect\n    if (width > 0 && height > 0) {\n        render(React.createElement(ErrorBoundary, { set: setError },\n            React.createElement(React.Suspense, { fallback: React.createElement(Block, { set: setBlock }) },\n                React.createElement(MotionContext.Provider, { value: motionContext }, children))), canvasRef.current, __assign(__assign({}, props), { size: { width: width, height: height }, events: events$1 || events }));\n    }\n    useIsomorphicLayoutEffect(function () {\n        var container = canvasRef.current;\n        return function () { return unmountComponentAtNode(container); };\n    }, []);\n    return (React.createElement(\"div\", { ref: containerRef, id: id, className: className, tabIndex: tabIndex, style: __assign({ position: \"relative\", width: \"100%\", height: \"100%\", overflow: \"hidden\" }, style) },\n        React.createElement(\"canvas\", { ref: mergeRefs([canvasRef, forwardedRef]), style: { display: \"block\" } }, fallback)));\n}\nvar MotionCanvas = forwardRef(SyncCanvasComponent);\n\nexport { MotionCanvas };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}