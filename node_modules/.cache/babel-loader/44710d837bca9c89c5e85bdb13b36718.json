{"ast":null,"code":"import _asyncToGenerator from \"/Users/Juan/Documents/coding/framer-3d-button/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/Juan/Documents/coding/framer-3d-button/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/Juan/Documents/coding/framer-3d-button/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/Users/Juan/Documents/coding/framer-3d-button/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\";\n\nvar ARButton = /*#__PURE__*/function () {\n  function ARButton() {\n    _classCallCheck(this, ARButton);\n  }\n\n  _createClass(ARButton, null, [{\n    key: \"createButton\",\n    value: function createButton(renderer) {\n      var sessionInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var button = document.createElement('button');\n\n      function\n      /*device*/\n      showStartAR() {\n        if (sessionInit.domOverlay === undefined) {\n          var overlay = document.createElement('div');\n          overlay.style.display = 'none';\n          document.body.appendChild(overlay);\n          var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n          svg.setAttribute('width', 38);\n          svg.setAttribute('height', 38);\n          svg.style.position = 'absolute';\n          svg.style.right = '20px';\n          svg.style.top = '20px';\n          svg.addEventListener('click', function () {\n            currentSession.end();\n          });\n          overlay.appendChild(svg);\n          var path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n          path.setAttribute('d', 'M 12,12 L 28,28 M 28,12 12,28');\n          path.setAttribute('stroke', '#fff');\n          path.setAttribute('stroke-width', 2);\n          svg.appendChild(path);\n\n          if (sessionInit.optionalFeatures === undefined) {\n            sessionInit.optionalFeatures = [];\n          }\n\n          sessionInit.optionalFeatures.push('dom-overlay');\n          sessionInit.domOverlay = {\n            root: overlay\n          };\n        } //\n\n\n        var currentSession = null;\n\n        function onSessionStarted(_x) {\n          return _onSessionStarted.apply(this, arguments);\n        }\n\n        function _onSessionStarted() {\n          _onSessionStarted = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(session) {\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    session.addEventListener('end', onSessionEnded);\n                    renderer.xr.setReferenceSpaceType('local');\n                    _context.next = 4;\n                    return renderer.xr.setSession(session);\n\n                  case 4:\n                    button.textContent = 'STOP AR';\n                    sessionInit.domOverlay.root.style.display = '';\n                    currentSession = session;\n\n                  case 7:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n          return _onSessionStarted.apply(this, arguments);\n        }\n\n        function\n        /*event*/\n        onSessionEnded() {\n          currentSession.removeEventListener('end', onSessionEnded);\n          button.textContent = 'START AR';\n          sessionInit.domOverlay.root.style.display = 'none';\n          currentSession = null;\n        } //\n\n\n        button.style.display = '';\n        button.style.cursor = 'pointer';\n        button.style.left = 'calc(50% - 50px)';\n        button.style.width = '100px';\n        button.textContent = 'START AR';\n\n        button.onmouseenter = function () {\n          button.style.opacity = '1.0';\n        };\n\n        button.onmouseleave = function () {\n          button.style.opacity = '0.5';\n        };\n\n        button.onclick = function () {\n          if (currentSession === null) {\n            navigator.xr.requestSession('immersive-ar', sessionInit).then(onSessionStarted);\n          } else {\n            currentSession.end();\n          }\n        };\n      }\n\n      function disableButton() {\n        button.style.display = '';\n        button.style.cursor = 'auto';\n        button.style.left = 'calc(50% - 75px)';\n        button.style.width = '150px';\n        button.onmouseenter = null;\n        button.onmouseleave = null;\n        button.onclick = null;\n      }\n\n      function showARNotSupported() {\n        disableButton();\n        button.textContent = 'AR NOT SUPPORTED';\n      }\n\n      function stylizeElement(element) {\n        element.style.position = 'absolute';\n        element.style.bottom = '20px';\n        element.style.padding = '12px 6px';\n        element.style.border = '1px solid #fff';\n        element.style.borderRadius = '4px';\n        element.style.background = 'rgba(0,0,0,0.1)';\n        element.style.color = '#fff';\n        element.style.font = 'normal 13px sans-serif';\n        element.style.textAlign = 'center';\n        element.style.opacity = '0.5';\n        element.style.outline = 'none';\n        element.style.zIndex = '999';\n      }\n\n      if ('xr' in navigator) {\n        button.id = 'ARButton';\n        button.style.display = 'none';\n        stylizeElement(button);\n        navigator.xr.isSessionSupported('immersive-ar').then(function (supported) {\n          supported ? showStartAR() : showARNotSupported();\n        }).catch(showARNotSupported);\n        return button;\n      } else {\n        var message = document.createElement('a');\n\n        if (window.isSecureContext === false) {\n          message.href = document.location.href.replace(/^http:/, 'https:');\n          message.innerHTML = 'WEBXR NEEDS HTTPS'; // TODO Improve message\n        } else {\n          message.href = 'https://immersiveweb.dev/';\n          message.innerHTML = 'WEBXR NOT AVAILABLE';\n        }\n\n        message.style.left = 'calc(50% - 90px)';\n        message.style.width = '180px';\n        message.style.textDecoration = 'none';\n        stylizeElement(message);\n        return message;\n      }\n    }\n  }]);\n\n  return ARButton;\n}();\n\nexport { ARButton };","map":{"version":3,"names":["ARButton","renderer","sessionInit","button","document","createElement","showStartAR","domOverlay","undefined","overlay","style","display","body","appendChild","svg","createElementNS","setAttribute","position","right","top","addEventListener","currentSession","end","path","optionalFeatures","push","root","onSessionStarted","session","onSessionEnded","xr","setReferenceSpaceType","setSession","textContent","removeEventListener","cursor","left","width","onmouseenter","opacity","onmouseleave","onclick","navigator","requestSession","then","disableButton","showARNotSupported","stylizeElement","element","bottom","padding","border","borderRadius","background","color","font","textAlign","outline","zIndex","id","isSessionSupported","supported","catch","message","window","isSecureContext","href","location","replace","innerHTML","textDecoration"],"sources":["/Users/Juan/Documents/coding/framer-3d-button/node_modules/three-stdlib/webxr/ARButton.js"],"sourcesContent":["class ARButton {\n  static createButton(renderer, sessionInit = {}) {\n    const button = document.createElement('button');\n\n    function\n      /*device*/\n    showStartAR() {\n      if (sessionInit.domOverlay === undefined) {\n        var overlay = document.createElement('div');\n        overlay.style.display = 'none';\n        document.body.appendChild(overlay);\n        var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttribute('width', 38);\n        svg.setAttribute('height', 38);\n        svg.style.position = 'absolute';\n        svg.style.right = '20px';\n        svg.style.top = '20px';\n        svg.addEventListener('click', function () {\n          currentSession.end();\n        });\n        overlay.appendChild(svg);\n        var path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        path.setAttribute('d', 'M 12,12 L 28,28 M 28,12 12,28');\n        path.setAttribute('stroke', '#fff');\n        path.setAttribute('stroke-width', 2);\n        svg.appendChild(path);\n\n        if (sessionInit.optionalFeatures === undefined) {\n          sessionInit.optionalFeatures = [];\n        }\n\n        sessionInit.optionalFeatures.push('dom-overlay');\n        sessionInit.domOverlay = {\n          root: overlay\n        };\n      } //\n\n\n      let currentSession = null;\n\n      async function onSessionStarted(session) {\n        session.addEventListener('end', onSessionEnded);\n        renderer.xr.setReferenceSpaceType('local');\n        await renderer.xr.setSession(session);\n        button.textContent = 'STOP AR';\n        sessionInit.domOverlay.root.style.display = '';\n        currentSession = session;\n      }\n\n      function\n        /*event*/\n      onSessionEnded() {\n        currentSession.removeEventListener('end', onSessionEnded);\n        button.textContent = 'START AR';\n        sessionInit.domOverlay.root.style.display = 'none';\n        currentSession = null;\n      } //\n\n\n      button.style.display = '';\n      button.style.cursor = 'pointer';\n      button.style.left = 'calc(50% - 50px)';\n      button.style.width = '100px';\n      button.textContent = 'START AR';\n\n      button.onmouseenter = function () {\n        button.style.opacity = '1.0';\n      };\n\n      button.onmouseleave = function () {\n        button.style.opacity = '0.5';\n      };\n\n      button.onclick = function () {\n        if (currentSession === null) {\n          navigator.xr.requestSession('immersive-ar', sessionInit).then(onSessionStarted);\n        } else {\n          currentSession.end();\n        }\n      };\n    }\n\n    function disableButton() {\n      button.style.display = '';\n      button.style.cursor = 'auto';\n      button.style.left = 'calc(50% - 75px)';\n      button.style.width = '150px';\n      button.onmouseenter = null;\n      button.onmouseleave = null;\n      button.onclick = null;\n    }\n\n    function showARNotSupported() {\n      disableButton();\n      button.textContent = 'AR NOT SUPPORTED';\n    }\n\n    function stylizeElement(element) {\n      element.style.position = 'absolute';\n      element.style.bottom = '20px';\n      element.style.padding = '12px 6px';\n      element.style.border = '1px solid #fff';\n      element.style.borderRadius = '4px';\n      element.style.background = 'rgba(0,0,0,0.1)';\n      element.style.color = '#fff';\n      element.style.font = 'normal 13px sans-serif';\n      element.style.textAlign = 'center';\n      element.style.opacity = '0.5';\n      element.style.outline = 'none';\n      element.style.zIndex = '999';\n    }\n\n    if ('xr' in navigator) {\n      button.id = 'ARButton';\n      button.style.display = 'none';\n      stylizeElement(button);\n      navigator.xr.isSessionSupported('immersive-ar').then(function (supported) {\n        supported ? showStartAR() : showARNotSupported();\n      }).catch(showARNotSupported);\n      return button;\n    } else {\n      const message = document.createElement('a');\n\n      if (window.isSecureContext === false) {\n        message.href = document.location.href.replace(/^http:/, 'https:');\n        message.innerHTML = 'WEBXR NEEDS HTTPS'; // TODO Improve message\n      } else {\n        message.href = 'https://immersiveweb.dev/';\n        message.innerHTML = 'WEBXR NOT AVAILABLE';\n      }\n\n      message.style.left = 'calc(50% - 90px)';\n      message.style.width = '180px';\n      message.style.textDecoration = 'none';\n      stylizeElement(message);\n      return message;\n    }\n  }\n\n}\n\nexport { ARButton };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}