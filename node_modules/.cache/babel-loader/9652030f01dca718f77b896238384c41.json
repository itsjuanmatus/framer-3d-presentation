{"ast":null,"code":"import _toConsumableArray from \"/Users/Juan/Documents/coding/framer-3d-button/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _createForOfIteratorHelper from \"/Users/Juan/Documents/coding/framer-3d-button/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport deepEqual from 'fast-deep-equal';\nvar globalCache = [];\n\nfunction handleAsset(fn, cache, args) {\n  var lifespan = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var preload = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  var _iterator = _createForOfIteratorHelper(cache),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _entry = _step.value;\n\n      // Find a match\n      if (deepEqual(args, _entry.args)) {\n        // If we're pre-loading and the element is present, just return\n        if (preload) return; // If an error occurred, throw\n\n        if (_entry.error) throw _entry.error; // If a response was successful, return\n\n        if (_entry.response) return _entry.response; // If the promise is still unresolved, throw\n\n        throw _entry.promise;\n      }\n    } // The request is new or has changed.\n\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var entry = {\n    args: args,\n    promise: // Make the promise request.\n    fn.apply(void 0, _toConsumableArray(args)) // Response can't be undefined or else the loop above wouldn't be able to return it\n    // This is for promises that do not return results (delays for instance)\n    .then(function (response) {\n      return entry.response = response != null ? response : true;\n    }).catch(function (e) {\n      return entry.error = e != null ? e : 'unknown error';\n    }).then(function () {\n      if (lifespan > 0) {\n        setTimeout(function () {\n          var index = cache.indexOf(entry);\n          if (index !== -1) cache.splice(index, 1);\n        }, lifespan);\n      }\n    })\n  };\n  cache.push(entry);\n  if (!preload) throw entry.promise;\n}\n\nfunction _clear(cache) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  if (args === undefined || args.length === 0) cache.splice(0, cache.length);else {\n    var entry = cache.find(function (entry) {\n      return deepEqual(args, entry.args);\n    });\n\n    if (entry) {\n      var index = cache.indexOf(entry);\n      if (index !== -1) cache.splice(index, 1);\n    }\n  }\n}\n\nfunction createAsset(fn) {\n  var lifespan = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var cache = [];\n  return {\n    /**\n     * @throws Suspense Promise if asset is not yet ready\n     * @throws Error if the promise rejected for some reason\n     */\n    read: function read() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return handleAsset(fn, cache, args, lifespan);\n    },\n    preload: function preload() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return void handleAsset(fn, cache, args, lifespan, true);\n    },\n    clear: function clear() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return _clear.apply(void 0, [cache].concat(args));\n    },\n    peek: function peek() {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      var _cache$find;\n\n      return (_cache$find = cache.find(function (entry) {\n        return deepEqual(args, entry.args);\n      })) == null ? void 0 : _cache$find.response;\n    }\n  };\n}\n\nfunction useAsset(fn) {\n  for (var _len6 = arguments.length, args = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n    args[_key6 - 1] = arguments[_key6];\n  }\n\n  return handleAsset(fn, globalCache, args, useAsset.lifespan);\n}\n\nuseAsset.lifespan = 0;\n\nuseAsset.clear = function () {\n  for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n    args[_key7] = arguments[_key7];\n  }\n\n  return _clear.apply(void 0, [globalCache].concat(args));\n};\n\nuseAsset.preload = function (fn) {\n  for (var _len8 = arguments.length, args = new Array(_len8 > 1 ? _len8 - 1 : 0), _key8 = 1; _key8 < _len8; _key8++) {\n    args[_key8 - 1] = arguments[_key8];\n  }\n\n  return void handleAsset(fn, globalCache, args, useAsset.lifespan, true);\n};\n\nuseAsset.peek = function () {\n  for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n    args[_key9] = arguments[_key9];\n  }\n\n  var _globalCache$find;\n\n  return (_globalCache$find = globalCache.find(function (entry) {\n    return deepEqual(args, entry.args);\n  })) == null ? void 0 : _globalCache$find.response;\n};\n\nexport { createAsset, useAsset };","map":{"version":3,"names":["deepEqual","globalCache","handleAsset","fn","cache","args","lifespan","preload","entry","error","response","promise","then","catch","e","setTimeout","index","indexOf","splice","push","clear","undefined","length","find","createAsset","read","peek","_cache$find","useAsset","_globalCache$find"],"sources":["/Users/Juan/Documents/coding/framer-3d-button/node_modules/use-asset/dist/index.js"],"sourcesContent":["import deepEqual from 'fast-deep-equal';\n\nconst globalCache = [];\n\nfunction handleAsset(fn, cache, args, lifespan = 0, preload = false) {\n  for (const entry of cache) {\n    // Find a match\n    if (deepEqual(args, entry.args)) {\n      // If we're pre-loading and the element is present, just return\n      if (preload) return; // If an error occurred, throw\n\n      if (entry.error) throw entry.error; // If a response was successful, return\n\n      if (entry.response) return entry.response; // If the promise is still unresolved, throw\n\n      throw entry.promise;\n    }\n  } // The request is new or has changed.\n\n\n  const entry = {\n    args,\n    promise: // Make the promise request.\n    fn(...args) // Response can't be undefined or else the loop above wouldn't be able to return it\n    // This is for promises that do not return results (delays for instance)\n    .then(response => entry.response = response != null ? response : true).catch(e => entry.error = e != null ? e : 'unknown error').then(() => {\n      if (lifespan > 0) {\n        setTimeout(() => {\n          const index = cache.indexOf(entry);\n          if (index !== -1) cache.splice(index, 1);\n        }, lifespan);\n      }\n    })\n  };\n  cache.push(entry);\n  if (!preload) throw entry.promise;\n}\n\nfunction clear(cache, ...args) {\n  if (args === undefined || args.length === 0) cache.splice(0, cache.length);else {\n    const entry = cache.find(entry => deepEqual(args, entry.args));\n\n    if (entry) {\n      const index = cache.indexOf(entry);\n      if (index !== -1) cache.splice(index, 1);\n    }\n  }\n}\n\nfunction createAsset(fn, lifespan = 0) {\n  const cache = [];\n  return {\n    /**\n     * @throws Suspense Promise if asset is not yet ready\n     * @throws Error if the promise rejected for some reason\n     */\n    read: (...args) => handleAsset(fn, cache, args, lifespan),\n    preload: (...args) => void handleAsset(fn, cache, args, lifespan, true),\n    clear: (...args) => clear(cache, ...args),\n    peek: (...args) => {\n      var _cache$find;\n\n      return (_cache$find = cache.find(entry => deepEqual(args, entry.args))) == null ? void 0 : _cache$find.response;\n    }\n  };\n}\n\nfunction useAsset(fn, ...args) {\n  return handleAsset(fn, globalCache, args, useAsset.lifespan);\n}\n\nuseAsset.lifespan = 0;\n\nuseAsset.clear = (...args) => clear(globalCache, ...args);\n\nuseAsset.preload = (fn, ...args) => void handleAsset(fn, globalCache, args, useAsset.lifespan, true);\n\nuseAsset.peek = (...args) => {\n  var _globalCache$find;\n\n  return (_globalCache$find = globalCache.find(entry => deepEqual(args, entry.args))) == null ? void 0 : _globalCache$find.response;\n};\n\nexport { createAsset, useAsset };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}