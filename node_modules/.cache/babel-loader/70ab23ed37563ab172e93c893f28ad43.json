{"ast":null,"code":"import _toConsumableArray from \"/Users/Juan/Documents/coding/framer-3d-button/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _createForOfIteratorHelper from \"/Users/Juan/Documents/coding/framer-3d-button/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/Users/Juan/Documents/coding/framer-3d-button/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/Juan/Documents/coding/framer-3d-button/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _slicedToArray from \"/Users/Juan/Documents/coding/framer-3d-button/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { S as SUPPORT, C as ConfigResolverMap, _ as _objectSpread2, a as _defineProperty, t as toDomEventType, i as isTouch, b as touchIds, E as EngineMap, c as chain, p as parseProp, d as toHandlerProp } from './actions-8e12537b.esm.js';\nimport './maths-b2a210f4.esm.js';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar sharedConfigResolver = {\n  target: function target(value) {\n    if (value) {\n      return function () {\n        return 'current' in value ? value.current : value;\n      };\n    }\n\n    return undefined;\n  },\n  enabled: function enabled() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    return value;\n  },\n  window: function (_window) {\n    function window() {\n      return _window.apply(this, arguments);\n    }\n\n    window.toString = function () {\n      return _window.toString();\n    };\n\n    return window;\n  }(function () {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : SUPPORT.isBrowser ? window : undefined;\n    return value;\n  }),\n  eventOptions: function eventOptions() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$passive = _ref2.passive,\n        passive = _ref2$passive === void 0 ? true : _ref2$passive,\n        _ref2$capture = _ref2.capture,\n        capture = _ref2$capture === void 0 ? false : _ref2$capture;\n\n    return {\n      passive: passive,\n      capture: capture\n    };\n  },\n  transform: function transform(value) {\n    return value;\n  }\n};\nvar _excluded = [\"target\", \"eventOptions\", \"window\", \"enabled\", \"transform\"];\n\nfunction resolveWith() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var resolvers = arguments.length > 1 ? arguments[1] : undefined;\n  var result = {};\n\n  for (var _i = 0, _Object$entries = Object.entries(resolvers); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n        key = _Object$entries$_i[0],\n        resolver = _Object$entries$_i[1];\n\n    switch (typeof resolver) {\n      case 'function':\n        if (process.env.NODE_ENV === 'development') {\n          var r = resolver.call(result, config[key], key, config);\n          if (!Number.isNaN(r)) result[key] = r;\n        } else {\n          result[key] = resolver.call(result, config[key], key, config);\n        }\n\n        break;\n\n      case 'object':\n        result[key] = resolveWith(config[key], resolver);\n        break;\n\n      case 'boolean':\n        if (resolver) result[key] = config[key];\n        break;\n    }\n  }\n\n  return result;\n}\n\nfunction parse(config, gestureKey) {\n  var _ref = config,\n      target = _ref.target,\n      eventOptions = _ref.eventOptions,\n      window = _ref.window,\n      enabled = _ref.enabled,\n      transform = _ref.transform,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var _config = {\n    shared: resolveWith({\n      target: target,\n      eventOptions: eventOptions,\n      window: window,\n      enabled: enabled,\n      transform: transform\n    }, sharedConfigResolver)\n  };\n\n  if (gestureKey) {\n    var resolver = ConfigResolverMap.get(gestureKey);\n    _config[gestureKey] = resolveWith(_objectSpread2({\n      shared: _config.shared\n    }, rest), resolver);\n  } else {\n    for (var key in rest) {\n      var _resolver = ConfigResolverMap.get(key);\n\n      if (_resolver) {\n        _config[key] = resolveWith(_objectSpread2({\n          shared: _config.shared\n        }, rest[key]), _resolver);\n      } else if (process.env.NODE_ENV === 'development') {\n        if (!['drag', 'pinch', 'scroll', 'wheel', 'move', 'hover'].includes(key)) {\n          if (key === 'domTarget') {\n            throw Error(\"[@use-gesture]: `domTarget` option has been renamed to `target`.\");\n          }\n\n          console.warn(\"[@use-gesture]: Unknown config key `\".concat(key, \"` was used. Please read the documentation for further information.\"));\n        }\n      }\n    }\n  }\n\n  return _config;\n}\n\nvar EventStore = /*#__PURE__*/function () {\n  function EventStore(ctrl) {\n    _classCallCheck(this, EventStore);\n\n    _defineProperty(this, \"_listeners\", []);\n\n    this._ctrl = ctrl;\n  }\n\n  _createClass(EventStore, [{\n    key: \"add\",\n    value: function add(element, device, action, handler, options) {\n      var type = toDomEventType(device, action);\n\n      var eventOptions = _objectSpread2(_objectSpread2({}, this._ctrl.config.shared.eventOptions), options);\n\n      element.addEventListener(type, handler, eventOptions);\n\n      this._listeners.push(function () {\n        return element.removeEventListener(type, handler, eventOptions);\n      });\n    }\n  }, {\n    key: \"clean\",\n    value: function clean() {\n      this._listeners.forEach(function (remove) {\n        return remove();\n      });\n\n      this._listeners = [];\n    }\n  }]);\n\n  return EventStore;\n}();\n\nvar TimeoutStore = /*#__PURE__*/function () {\n  function TimeoutStore() {\n    _classCallCheck(this, TimeoutStore);\n\n    _defineProperty(this, \"_timeouts\", new Map());\n  }\n\n  _createClass(TimeoutStore, [{\n    key: \"add\",\n    value: function add(key, callback) {\n      var _window2;\n\n      var ms = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 140;\n      this.remove(key);\n\n      for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        args[_key - 3] = arguments[_key];\n      }\n\n      this._timeouts.set(key, (_window2 = window).setTimeout.apply(_window2, [callback, ms].concat(args)));\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(key) {\n      var timeout = this._timeouts.get(key);\n\n      if (timeout) window.clearTimeout(timeout);\n    }\n  }, {\n    key: \"clean\",\n    value: function clean() {\n      this._timeouts.forEach(function (timeout) {\n        return void window.clearTimeout(timeout);\n      });\n\n      this._timeouts.clear();\n    }\n  }]);\n\n  return TimeoutStore;\n}();\n\nvar Controller = /*#__PURE__*/function () {\n  function Controller(handlers) {\n    _classCallCheck(this, Controller);\n\n    _defineProperty(this, \"gestures\", new Set());\n\n    _defineProperty(this, \"_targetEventStore\", new EventStore(this));\n\n    _defineProperty(this, \"gestureEventStores\", {});\n\n    _defineProperty(this, \"gestureTimeoutStores\", {});\n\n    _defineProperty(this, \"handlers\", {});\n\n    _defineProperty(this, \"config\", {});\n\n    _defineProperty(this, \"pointerIds\", new Set());\n\n    _defineProperty(this, \"touchIds\", new Set());\n\n    _defineProperty(this, \"state\", {\n      shared: {\n        shiftKey: false,\n        metaKey: false,\n        ctrlKey: false,\n        altKey: false\n      }\n    });\n\n    resolveGestures(this, handlers);\n  }\n\n  _createClass(Controller, [{\n    key: \"setEventIds\",\n    value: function setEventIds(event) {\n      if (isTouch(event)) {\n        this.touchIds = new Set(touchIds(event));\n      } else if ('pointerId' in event) {\n        if (event.type === 'pointerup' || event.type === 'pointercancel') this.pointerIds.delete(event.pointerId);else if (event.type === 'pointerdown') this.pointerIds.add(event.pointerId);\n      }\n    }\n  }, {\n    key: \"applyHandlers\",\n    value: function applyHandlers(handlers, nativeHandlers) {\n      this.handlers = handlers;\n      this.nativeHandlers = nativeHandlers;\n    }\n  }, {\n    key: \"applyConfig\",\n    value: function applyConfig(config, gestureKey) {\n      this.config = parse(config, gestureKey);\n    }\n  }, {\n    key: \"clean\",\n    value: function clean() {\n      this._targetEventStore.clean();\n\n      var _iterator = _createForOfIteratorHelper(this.gestures),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          this.gestureEventStores[key].clean();\n          this.gestureTimeoutStores[key].clean();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"effect\",\n    value: function effect() {\n      var _this = this;\n\n      if (this.config.shared.target) this.bind();\n      return function () {\n        return _this._targetEventStore.clean();\n      };\n    }\n  }, {\n    key: \"bind\",\n    value: function bind() {\n      var _this2 = this;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var sharedConfig = this.config.shared;\n      var eventOptions = sharedConfig.eventOptions;\n      var props = {};\n      var target;\n\n      if (sharedConfig.target) {\n        target = sharedConfig.target();\n        if (!target) return;\n      }\n\n      var bindFunction = bindToProps(props, eventOptions, !!target);\n\n      if (sharedConfig.enabled) {\n        var _iterator2 = _createForOfIteratorHelper(this.gestures),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var gestureKey = _step2.value;\n\n            if (this.config[gestureKey].enabled) {\n              var Engine = EngineMap.get(gestureKey);\n              new Engine(this, args, gestureKey).bind(bindFunction);\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        var _loop = function _loop(eventKey) {\n          bindFunction(eventKey, '', function (event) {\n            return _this2.nativeHandlers[eventKey](_objectSpread2(_objectSpread2({}, _this2.state.shared), {}, {\n              event: event,\n              args: args\n            }));\n          }, undefined, true);\n        };\n\n        for (var eventKey in this.nativeHandlers) {\n          _loop(eventKey);\n        }\n      }\n\n      for (var handlerProp in props) {\n        props[handlerProp] = chain.apply(void 0, _toConsumableArray(props[handlerProp]));\n      }\n\n      if (!target) return props;\n\n      for (var _handlerProp in props) {\n        var _parseProp = parseProp(_handlerProp),\n            device = _parseProp.device,\n            capture = _parseProp.capture,\n            passive = _parseProp.passive;\n\n        this._targetEventStore.add(target, device, '', props[_handlerProp], {\n          capture: capture,\n          passive: passive\n        });\n      }\n    }\n  }]);\n\n  return Controller;\n}();\n\nfunction setupGesture(ctrl, gestureKey) {\n  ctrl.gestures.add(gestureKey);\n  ctrl.gestureEventStores[gestureKey] = new EventStore(ctrl);\n  ctrl.gestureTimeoutStores[gestureKey] = new TimeoutStore();\n}\n\nfunction resolveGestures(ctrl, internalHandlers) {\n  if (internalHandlers.drag) setupGesture(ctrl, 'drag');\n  if (internalHandlers.wheel) setupGesture(ctrl, 'wheel');\n  if (internalHandlers.scroll) setupGesture(ctrl, 'scroll');\n  if (internalHandlers.move) setupGesture(ctrl, 'move');\n  if (internalHandlers.pinch) setupGesture(ctrl, 'pinch');\n  if (internalHandlers.hover) setupGesture(ctrl, 'hover');\n}\n\nvar bindToProps = function bindToProps(props, eventOptions, withPassiveOption) {\n  return function (device, action, handler) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var isNative = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n    var _options$capture, _options$passive;\n\n    var capture = (_options$capture = options.capture) !== null && _options$capture !== void 0 ? _options$capture : eventOptions.capture;\n    var passive = (_options$passive = options.passive) !== null && _options$passive !== void 0 ? _options$passive : eventOptions.passive;\n    var handlerProp = isNative ? device : toHandlerProp(device, action, capture);\n    if (withPassiveOption && passive) handlerProp += 'Passive';\n    props[handlerProp] = props[handlerProp] || [];\n    props[handlerProp].push(handler);\n  };\n};\n\nvar RE_NOT_NATIVE = /^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;\n\nfunction sortHandlers(_handlers) {\n  var native = {};\n  var handlers = {};\n  var actions = new Set();\n\n  for (var key in _handlers) {\n    if (RE_NOT_NATIVE.test(key)) {\n      actions.add(RegExp.lastMatch);\n      handlers[key] = _handlers[key];\n    } else {\n      native[key] = _handlers[key];\n    }\n  }\n\n  return [handlers, native, actions];\n}\n\nfunction registerGesture(actions, handlers, handlerKey, key, internalHandlers, config) {\n  if (!actions.has(handlerKey)) return;\n\n  if (!EngineMap.has(key)) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(\"[@use-gesture]: You've created a custom handler that that uses the `\".concat(key, \"` gesture but isn't properly configured.\\n\\nPlease add `\").concat(key, \"Action` when creating your handler.\"));\n    }\n\n    return;\n  }\n\n  var startKey = handlerKey + 'Start';\n  var endKey = handlerKey + 'End';\n\n  var fn = function fn(state) {\n    var memo = undefined;\n    if (state.first && startKey in handlers) handlers[startKey](state);\n    if (handlerKey in handlers) memo = handlers[handlerKey](state);\n    if (state.last && endKey in handlers) handlers[endKey](state);\n    return memo;\n  };\n\n  internalHandlers[key] = fn;\n  config[key] = config[key] || {};\n}\n\nfunction parseMergedHandlers(mergedHandlers, mergedConfig) {\n  var _sortHandlers = sortHandlers(mergedHandlers),\n      _sortHandlers2 = _slicedToArray(_sortHandlers, 3),\n      handlers = _sortHandlers2[0],\n      nativeHandlers = _sortHandlers2[1],\n      actions = _sortHandlers2[2];\n\n  var internalHandlers = {};\n  registerGesture(actions, handlers, 'onDrag', 'drag', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onWheel', 'wheel', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onScroll', 'scroll', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onPinch', 'pinch', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onMove', 'move', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onHover', 'hover', internalHandlers, mergedConfig);\n  return {\n    handlers: internalHandlers,\n    config: mergedConfig,\n    nativeHandlers: nativeHandlers\n  };\n}\n\nexport { Controller, parseMergedHandlers };","map":{"version":3,"names":["S","SUPPORT","C","ConfigResolverMap","_","_objectSpread2","a","_defineProperty","t","toDomEventType","i","isTouch","b","touchIds","E","EngineMap","c","chain","p","parseProp","d","toHandlerProp","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","length","indexOf","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","sharedConfigResolver","value","current","undefined","enabled","window","isBrowser","eventOptions","passive","capture","transform","_excluded","resolveWith","config","resolvers","result","entries","resolver","process","env","NODE_ENV","r","Number","isNaN","parse","gestureKey","_ref","rest","_config","shared","get","includes","Error","console","warn","EventStore","ctrl","_ctrl","element","device","action","handler","options","type","addEventListener","_listeners","push","removeEventListener","forEach","remove","TimeoutStore","Map","callback","ms","args","_timeouts","set","setTimeout","timeout","clearTimeout","clear","Controller","handlers","Set","shiftKey","metaKey","ctrlKey","altKey","resolveGestures","event","pointerIds","delete","pointerId","add","nativeHandlers","_targetEventStore","clean","gestures","gestureEventStores","gestureTimeoutStores","bind","sharedConfig","props","bindFunction","bindToProps","Engine","eventKey","state","handlerProp","setupGesture","internalHandlers","drag","wheel","scroll","move","pinch","hover","withPassiveOption","isNative","_options$capture","_options$passive","RE_NOT_NATIVE","sortHandlers","_handlers","native","actions","test","RegExp","lastMatch","registerGesture","handlerKey","has","startKey","endKey","fn","memo","first","last","parseMergedHandlers","mergedHandlers","mergedConfig"],"sources":["/Users/Juan/Documents/coding/framer-3d-button/node_modules/@use-gesture/core/dist/use-gesture-core.esm.js"],"sourcesContent":["import { S as SUPPORT, C as ConfigResolverMap, _ as _objectSpread2, a as _defineProperty, t as toDomEventType, i as isTouch, b as touchIds, E as EngineMap, c as chain, p as parseProp, d as toHandlerProp } from './actions-8e12537b.esm.js';\nimport './maths-b2a210f4.esm.js';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nconst sharedConfigResolver = {\n  target(value) {\n    if (value) {\n      return () => 'current' in value ? value.current : value;\n    }\n\n    return undefined;\n  },\n\n  enabled(value = true) {\n    return value;\n  },\n\n  window(value = SUPPORT.isBrowser ? window : undefined) {\n    return value;\n  },\n\n  eventOptions({\n    passive = true,\n    capture = false\n  } = {}) {\n    return {\n      passive,\n      capture\n    };\n  },\n\n  transform(value) {\n    return value;\n  }\n\n};\n\nconst _excluded = [\"target\", \"eventOptions\", \"window\", \"enabled\", \"transform\"];\nfunction resolveWith(config = {}, resolvers) {\n  const result = {};\n\n  for (const [key, resolver] of Object.entries(resolvers)) {\n    switch (typeof resolver) {\n      case 'function':\n        if (process.env.NODE_ENV === 'development') {\n          const r = resolver.call(result, config[key], key, config);\n          if (!Number.isNaN(r)) result[key] = r;\n        } else {\n          result[key] = resolver.call(result, config[key], key, config);\n        }\n\n        break;\n\n      case 'object':\n        result[key] = resolveWith(config[key], resolver);\n        break;\n\n      case 'boolean':\n        if (resolver) result[key] = config[key];\n        break;\n    }\n  }\n\n  return result;\n}\nfunction parse(config, gestureKey) {\n  const _ref = config,\n        {\n    target,\n    eventOptions,\n    window,\n    enabled,\n    transform\n  } = _ref,\n        rest = _objectWithoutProperties(_ref, _excluded);\n\n  const _config = {\n    shared: resolveWith({\n      target,\n      eventOptions,\n      window,\n      enabled,\n      transform\n    }, sharedConfigResolver)\n  };\n\n  if (gestureKey) {\n    const resolver = ConfigResolverMap.get(gestureKey);\n    _config[gestureKey] = resolveWith(_objectSpread2({\n      shared: _config.shared\n    }, rest), resolver);\n  } else {\n    for (const key in rest) {\n      const resolver = ConfigResolverMap.get(key);\n\n      if (resolver) {\n        _config[key] = resolveWith(_objectSpread2({\n          shared: _config.shared\n        }, rest[key]), resolver);\n      } else if (process.env.NODE_ENV === 'development') {\n        if (!['drag', 'pinch', 'scroll', 'wheel', 'move', 'hover'].includes(key)) {\n          if (key === 'domTarget') {\n            throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n          }\n\n          console.warn(`[@use-gesture]: Unknown config key \\`${key}\\` was used. Please read the documentation for further information.`);\n        }\n      }\n    }\n  }\n\n  return _config;\n}\n\nclass EventStore {\n  constructor(ctrl) {\n    _defineProperty(this, \"_listeners\", []);\n\n    this._ctrl = ctrl;\n  }\n\n  add(element, device, action, handler, options) {\n    const type = toDomEventType(device, action);\n\n    const eventOptions = _objectSpread2(_objectSpread2({}, this._ctrl.config.shared.eventOptions), options);\n\n    element.addEventListener(type, handler, eventOptions);\n\n    this._listeners.push(() => element.removeEventListener(type, handler, eventOptions));\n  }\n\n  clean() {\n    this._listeners.forEach(remove => remove());\n\n    this._listeners = [];\n  }\n\n}\n\nclass TimeoutStore {\n  constructor() {\n    _defineProperty(this, \"_timeouts\", new Map());\n  }\n\n  add(key, callback, ms = 140, ...args) {\n    this.remove(key);\n\n    this._timeouts.set(key, window.setTimeout(callback, ms, ...args));\n  }\n\n  remove(key) {\n    const timeout = this._timeouts.get(key);\n\n    if (timeout) window.clearTimeout(timeout);\n  }\n\n  clean() {\n    this._timeouts.forEach(timeout => void window.clearTimeout(timeout));\n\n    this._timeouts.clear();\n  }\n\n}\n\nclass Controller {\n  constructor(handlers) {\n    _defineProperty(this, \"gestures\", new Set());\n\n    _defineProperty(this, \"_targetEventStore\", new EventStore(this));\n\n    _defineProperty(this, \"gestureEventStores\", {});\n\n    _defineProperty(this, \"gestureTimeoutStores\", {});\n\n    _defineProperty(this, \"handlers\", {});\n\n    _defineProperty(this, \"config\", {});\n\n    _defineProperty(this, \"pointerIds\", new Set());\n\n    _defineProperty(this, \"touchIds\", new Set());\n\n    _defineProperty(this, \"state\", {\n      shared: {\n        shiftKey: false,\n        metaKey: false,\n        ctrlKey: false,\n        altKey: false\n      }\n    });\n\n    resolveGestures(this, handlers);\n  }\n\n  setEventIds(event) {\n    if (isTouch(event)) {\n      this.touchIds = new Set(touchIds(event));\n    } else if ('pointerId' in event) {\n      if (event.type === 'pointerup' || event.type === 'pointercancel') this.pointerIds.delete(event.pointerId);else if (event.type === 'pointerdown') this.pointerIds.add(event.pointerId);\n    }\n  }\n\n  applyHandlers(handlers, nativeHandlers) {\n    this.handlers = handlers;\n    this.nativeHandlers = nativeHandlers;\n  }\n\n  applyConfig(config, gestureKey) {\n    this.config = parse(config, gestureKey);\n  }\n\n  clean() {\n    this._targetEventStore.clean();\n\n    for (const key of this.gestures) {\n      this.gestureEventStores[key].clean();\n      this.gestureTimeoutStores[key].clean();\n    }\n  }\n\n  effect() {\n    if (this.config.shared.target) this.bind();\n    return () => this._targetEventStore.clean();\n  }\n\n  bind(...args) {\n    const sharedConfig = this.config.shared;\n    const eventOptions = sharedConfig.eventOptions;\n    const props = {};\n    let target;\n\n    if (sharedConfig.target) {\n      target = sharedConfig.target();\n      if (!target) return;\n    }\n\n    const bindFunction = bindToProps(props, eventOptions, !!target);\n\n    if (sharedConfig.enabled) {\n      for (const gestureKey of this.gestures) {\n        if (this.config[gestureKey].enabled) {\n          const Engine = EngineMap.get(gestureKey);\n          new Engine(this, args, gestureKey).bind(bindFunction);\n        }\n      }\n\n      for (const eventKey in this.nativeHandlers) {\n        bindFunction(eventKey, '', event => this.nativeHandlers[eventKey](_objectSpread2(_objectSpread2({}, this.state.shared), {}, {\n          event,\n          args\n        })), undefined, true);\n      }\n    }\n\n    for (const handlerProp in props) {\n      props[handlerProp] = chain(...props[handlerProp]);\n    }\n\n    if (!target) return props;\n\n    for (const handlerProp in props) {\n      const {\n        device,\n        capture,\n        passive\n      } = parseProp(handlerProp);\n\n      this._targetEventStore.add(target, device, '', props[handlerProp], {\n        capture,\n        passive\n      });\n    }\n  }\n\n}\n\nfunction setupGesture(ctrl, gestureKey) {\n  ctrl.gestures.add(gestureKey);\n  ctrl.gestureEventStores[gestureKey] = new EventStore(ctrl);\n  ctrl.gestureTimeoutStores[gestureKey] = new TimeoutStore();\n}\n\nfunction resolveGestures(ctrl, internalHandlers) {\n  if (internalHandlers.drag) setupGesture(ctrl, 'drag');\n  if (internalHandlers.wheel) setupGesture(ctrl, 'wheel');\n  if (internalHandlers.scroll) setupGesture(ctrl, 'scroll');\n  if (internalHandlers.move) setupGesture(ctrl, 'move');\n  if (internalHandlers.pinch) setupGesture(ctrl, 'pinch');\n  if (internalHandlers.hover) setupGesture(ctrl, 'hover');\n}\n\nconst bindToProps = (props, eventOptions, withPassiveOption) => (device, action, handler, options = {}, isNative = false) => {\n  var _options$capture, _options$passive;\n\n  const capture = (_options$capture = options.capture) !== null && _options$capture !== void 0 ? _options$capture : eventOptions.capture;\n  const passive = (_options$passive = options.passive) !== null && _options$passive !== void 0 ? _options$passive : eventOptions.passive;\n  let handlerProp = isNative ? device : toHandlerProp(device, action, capture);\n  if (withPassiveOption && passive) handlerProp += 'Passive';\n  props[handlerProp] = props[handlerProp] || [];\n  props[handlerProp].push(handler);\n};\n\nconst RE_NOT_NATIVE = /^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;\n\nfunction sortHandlers(_handlers) {\n  const native = {};\n  const handlers = {};\n  const actions = new Set();\n\n  for (let key in _handlers) {\n    if (RE_NOT_NATIVE.test(key)) {\n      actions.add(RegExp.lastMatch);\n      handlers[key] = _handlers[key];\n    } else {\n      native[key] = _handlers[key];\n    }\n  }\n\n  return [handlers, native, actions];\n}\n\nfunction registerGesture(actions, handlers, handlerKey, key, internalHandlers, config) {\n  if (!actions.has(handlerKey)) return;\n\n  if (!EngineMap.has(key)) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(`[@use-gesture]: You've created a custom handler that that uses the \\`${key}\\` gesture but isn't properly configured.\\n\\nPlease add \\`${key}Action\\` when creating your handler.`);\n    }\n\n    return;\n  }\n\n  const startKey = handlerKey + 'Start';\n  const endKey = handlerKey + 'End';\n\n  const fn = state => {\n    let memo = undefined;\n    if (state.first && startKey in handlers) handlers[startKey](state);\n    if (handlerKey in handlers) memo = handlers[handlerKey](state);\n    if (state.last && endKey in handlers) handlers[endKey](state);\n    return memo;\n  };\n\n  internalHandlers[key] = fn;\n  config[key] = config[key] || {};\n}\n\nfunction parseMergedHandlers(mergedHandlers, mergedConfig) {\n  const [handlers, nativeHandlers, actions] = sortHandlers(mergedHandlers);\n  const internalHandlers = {};\n  registerGesture(actions, handlers, 'onDrag', 'drag', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onWheel', 'wheel', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onScroll', 'scroll', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onPinch', 'pinch', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onMove', 'move', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onHover', 'hover', internalHandlers, mergedConfig);\n  return {\n    handlers: internalHandlers,\n    config: mergedConfig,\n    nativeHandlers\n  };\n}\n\nexport { Controller, parseMergedHandlers };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}