{"ast":null,"code":"import _asyncToGenerator from \"/Users/Juan/Documents/coding/framer-3d-button/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/Juan/Documents/coding/framer-3d-button/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/Juan/Documents/coding/framer-3d-button/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/Users/Juan/Documents/coding/framer-3d-button/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\";\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\n\nvar VRButton = /*#__PURE__*/function () {\n  function VRButton() {\n    _classCallCheck(this, VRButton);\n  }\n\n  _createClass(VRButton, null, [{\n    key: \"createButton\",\n    value: function createButton(renderer, options) {\n      if (options) {\n        console.error('THREE.VRButton: The \"options\" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.');\n      }\n\n      var button = document.createElement('button');\n\n      function\n      /*device*/\n      showEnterVR() {\n        var currentSession = null;\n\n        function onSessionStarted(_x) {\n          return _onSessionStarted.apply(this, arguments);\n        }\n\n        function _onSessionStarted() {\n          _onSessionStarted = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(session) {\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    session.addEventListener('end', onSessionEnded);\n                    _context.next = 3;\n                    return renderer.xr.setSession(session);\n\n                  case 3:\n                    button.textContent = 'EXIT VR';\n                    currentSession = session;\n\n                  case 5:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n          return _onSessionStarted.apply(this, arguments);\n        }\n\n        function\n        /*event*/\n        onSessionEnded() {\n          currentSession.removeEventListener('end', onSessionEnded);\n          button.textContent = 'ENTER VR';\n          currentSession = null;\n        } //\n\n\n        button.style.display = '';\n        button.style.cursor = 'pointer';\n        button.style.left = 'calc(50% - 50px)';\n        button.style.width = '100px';\n        button.textContent = 'ENTER VR';\n\n        button.onmouseenter = function () {\n          button.style.opacity = '1.0';\n        };\n\n        button.onmouseleave = function () {\n          button.style.opacity = '0.5';\n        };\n\n        button.onclick = function () {\n          if (currentSession === null) {\n            // WebXR's requestReferenceSpace only works if the corresponding feature\n            // was requested at session creation time. For simplicity, just ask for\n            // the interesting ones as optional features, but be aware that the\n            // requestReferenceSpace call will fail if it turns out to be unavailable.\n            // ('local' is always available for immersive sessions and doesn't need to\n            // be requested separately.)\n            var sessionInit = {\n              optionalFeatures: ['local-floor', 'bounded-floor', 'hand-tracking', 'layers']\n            };\n            navigator.xr.requestSession('immersive-vr', sessionInit).then(onSessionStarted);\n          } else {\n            currentSession.end();\n          }\n        };\n      }\n\n      function disableButton() {\n        button.style.display = '';\n        button.style.cursor = 'auto';\n        button.style.left = 'calc(50% - 75px)';\n        button.style.width = '150px';\n        button.onmouseenter = null;\n        button.onmouseleave = null;\n        button.onclick = null;\n      }\n\n      function showWebXRNotFound() {\n        disableButton();\n        button.textContent = 'VR NOT SUPPORTED';\n      }\n\n      function stylizeElement(element) {\n        element.style.position = 'absolute';\n        element.style.bottom = '20px';\n        element.style.padding = '12px 6px';\n        element.style.border = '1px solid #fff';\n        element.style.borderRadius = '4px';\n        element.style.background = 'rgba(0,0,0,0.1)';\n        element.style.color = '#fff';\n        element.style.font = 'normal 13px sans-serif';\n        element.style.textAlign = 'center';\n        element.style.opacity = '0.5';\n        element.style.outline = 'none';\n        element.style.zIndex = '999';\n      }\n\n      if ('xr' in navigator) {\n        button.id = 'VRButton';\n        button.style.display = 'none';\n        stylizeElement(button);\n        navigator.xr.isSessionSupported('immersive-vr').then(function (supported) {\n          supported ? showEnterVR() : showWebXRNotFound();\n\n          if (supported && VRButton.xrSessionIsGranted) {\n            button.click();\n          }\n        });\n        return button;\n      } else {\n        var message = document.createElement('a');\n\n        if (window.isSecureContext === false) {\n          message.href = document.location.href.replace(/^http:/, 'https:');\n          message.innerHTML = 'WEBXR NEEDS HTTPS'; // TODO Improve message\n        } else {\n          message.href = 'https://immersiveweb.dev/';\n          message.innerHTML = 'WEBXR NOT AVAILABLE';\n        }\n\n        message.style.left = 'calc(50% - 90px)';\n        message.style.width = '180px';\n        message.style.textDecoration = 'none';\n        stylizeElement(message);\n        return message;\n      }\n    }\n  }, {\n    key: \"registerSessionGrantedListener\",\n    value: function registerSessionGrantedListener() {\n      if ('xr' in navigator) {\n        navigator.xr.addEventListener('sessiongranted', function () {\n          VRButton.xrSessionIsGranted = true;\n        });\n      }\n    }\n  }]);\n\n  return VRButton;\n}();\n\n_defineProperty(VRButton, \"xrSessionIsGranted\", false);\n\nexport { VRButton };","map":{"version":3,"names":["_defineProperty","VRButton","renderer","options","console","error","button","document","createElement","showEnterVR","currentSession","onSessionStarted","session","addEventListener","onSessionEnded","xr","setSession","textContent","removeEventListener","style","display","cursor","left","width","onmouseenter","opacity","onmouseleave","onclick","sessionInit","optionalFeatures","navigator","requestSession","then","end","disableButton","showWebXRNotFound","stylizeElement","element","position","bottom","padding","border","borderRadius","background","color","font","textAlign","outline","zIndex","id","isSessionSupported","supported","xrSessionIsGranted","click","message","window","isSecureContext","href","location","replace","innerHTML","textDecoration"],"sources":["/Users/Juan/Documents/coding/framer-3d-button/node_modules/three-stdlib/webxr/VRButton.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\n\nclass VRButton {\n  static createButton(renderer, options) {\n    if (options) {\n      console.error('THREE.VRButton: The \"options\" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.');\n    }\n\n    const button = document.createElement('button');\n\n    function\n      /*device*/\n    showEnterVR() {\n      let currentSession = null;\n\n      async function onSessionStarted(session) {\n        session.addEventListener('end', onSessionEnded);\n        await renderer.xr.setSession(session);\n        button.textContent = 'EXIT VR';\n        currentSession = session;\n      }\n\n      function\n        /*event*/\n      onSessionEnded() {\n        currentSession.removeEventListener('end', onSessionEnded);\n        button.textContent = 'ENTER VR';\n        currentSession = null;\n      } //\n\n\n      button.style.display = '';\n      button.style.cursor = 'pointer';\n      button.style.left = 'calc(50% - 50px)';\n      button.style.width = '100px';\n      button.textContent = 'ENTER VR';\n\n      button.onmouseenter = function () {\n        button.style.opacity = '1.0';\n      };\n\n      button.onmouseleave = function () {\n        button.style.opacity = '0.5';\n      };\n\n      button.onclick = function () {\n        if (currentSession === null) {\n          // WebXR's requestReferenceSpace only works if the corresponding feature\n          // was requested at session creation time. For simplicity, just ask for\n          // the interesting ones as optional features, but be aware that the\n          // requestReferenceSpace call will fail if it turns out to be unavailable.\n          // ('local' is always available for immersive sessions and doesn't need to\n          // be requested separately.)\n          const sessionInit = {\n            optionalFeatures: ['local-floor', 'bounded-floor', 'hand-tracking', 'layers']\n          };\n          navigator.xr.requestSession('immersive-vr', sessionInit).then(onSessionStarted);\n        } else {\n          currentSession.end();\n        }\n      };\n    }\n\n    function disableButton() {\n      button.style.display = '';\n      button.style.cursor = 'auto';\n      button.style.left = 'calc(50% - 75px)';\n      button.style.width = '150px';\n      button.onmouseenter = null;\n      button.onmouseleave = null;\n      button.onclick = null;\n    }\n\n    function showWebXRNotFound() {\n      disableButton();\n      button.textContent = 'VR NOT SUPPORTED';\n    }\n\n    function stylizeElement(element) {\n      element.style.position = 'absolute';\n      element.style.bottom = '20px';\n      element.style.padding = '12px 6px';\n      element.style.border = '1px solid #fff';\n      element.style.borderRadius = '4px';\n      element.style.background = 'rgba(0,0,0,0.1)';\n      element.style.color = '#fff';\n      element.style.font = 'normal 13px sans-serif';\n      element.style.textAlign = 'center';\n      element.style.opacity = '0.5';\n      element.style.outline = 'none';\n      element.style.zIndex = '999';\n    }\n\n    if ('xr' in navigator) {\n      button.id = 'VRButton';\n      button.style.display = 'none';\n      stylizeElement(button);\n      navigator.xr.isSessionSupported('immersive-vr').then(function (supported) {\n        supported ? showEnterVR() : showWebXRNotFound();\n\n        if (supported && VRButton.xrSessionIsGranted) {\n          button.click();\n        }\n      });\n      return button;\n    } else {\n      const message = document.createElement('a');\n\n      if (window.isSecureContext === false) {\n        message.href = document.location.href.replace(/^http:/, 'https:');\n        message.innerHTML = 'WEBXR NEEDS HTTPS'; // TODO Improve message\n      } else {\n        message.href = 'https://immersiveweb.dev/';\n        message.innerHTML = 'WEBXR NOT AVAILABLE';\n      }\n\n      message.style.left = 'calc(50% - 90px)';\n      message.style.width = '180px';\n      message.style.textDecoration = 'none';\n      stylizeElement(message);\n      return message;\n    }\n  }\n\n  static registerSessionGrantedListener() {\n    if ('xr' in navigator) {\n      navigator.xr.addEventListener('sessiongranted', () => {\n        VRButton.xrSessionIsGranted = true;\n      });\n    }\n  }\n\n}\n\n_defineProperty(VRButton, \"xrSessionIsGranted\", false);\n\nexport { VRButton };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}